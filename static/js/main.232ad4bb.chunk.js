(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(7),s=a.n(r),o=(a(13),a(14),a(2)),l=a(3),c=a(1),u=a(5),d=a(4);var h=function(t){return i.a.createElement("div",null,i.a.createElement("h1",null,"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(+t.temp).toFixed(1)," \xb0C"),i.a.createElement("h1",null,"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c: ",i.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/"+t.weather_state+".svg",width:"35rem",alt:"\u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c "+t.weather_state})),i.a.createElement("h1",null,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",(+t.wind_speed).toFixed(1)," \u043c/\u0441"),i.a.createElement("h1",null,"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(.750064*t.air_pressure).toFixed(0)," \u043c\u043c.\u0440\u0442.\u0441\u0442"),i.a.createElement("h3",null,"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0430\u044f \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f: ",t.title," (",(t.distance/1e3).toFixed(1)," \u043a\u043c \u043e\u0442 \u0432\u0430\u0441)"))},p=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).componentDidUpdate=function(t){var e="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/?lattlong="+n.props.latitude+","+n.props.longitude;if(n.props.latitude===t.latitude&&n.props.longitude===t.longitude||fetch(e).then((function(t){return t.json()})).then((function(t){n.setState({weatherData:t}),n.setState({latitude:n.props.latitude}),n.setState({longitude:n.props.longitude})})),void 0!==JSON.parse(JSON.stringify(n.state.weatherData))[0]&&0===n.state.woeid&&n.setState({woeid:JSON.parse(JSON.stringify(n.state.weatherData))[0].woeid}),0!==n.state.woeid)var a="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/"+n.state.woeid+"/";n.state.latitude!==t.latitude&&0!==n.state.woeid&&fetch(a).then((function(t){return 200===t.status||alert("\u0423 metaweather.com \u043e\u043f\u044f\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),t.json()})).then((function(t){n.setState({woeidWeather:t})}));var i=n.state.woeidWeather,r=n.state.weatherData;Object.keys(i).length>0&&(console.log(i.consolidated_weather[0]),n.state.temp!==i.consolidated_weather[0].the_temp&&(n.setState({temp:i.consolidated_weather[0].the_temp}),n.setState({weather_state:i.consolidated_weather[0].weather_state_abbr}),n.setState({wind_speed:i.consolidated_weather[0].wind_speed}),n.setState({air_pressure:i.consolidated_weather[0].air_pressure}),n.setState({title:i.title}),n.setState({distance:r[0].distance})))},n.state={weatherData:[],latitude:null,longitude:null,distance:"",woeid:0,woeidWeather:{},temp:"",weather_state:"",wind_speed:"",air_pressure:"",title:""},n}return Object(l.a)(a,[{key:"render",value:function(){return JSON.stringify(this.state.weatherData)?i.a.createElement("div",null,i.a.createElement(h,{temp:this.state.temp,weather_state:this.state.weather_state,wind_speed:this.state.wind_speed,air_pressure:this.state.air_pressure,title:this.state.title,distance:this.state.distance})):i.a.createElement("div",null,"Loading")}}]),a}(i.a.Component),w=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={longitude:null,latitude:null},n.getStatus=n.getStatus.bind(Object(c.a)(n)),n.success=n.success.bind(Object(c.a)(n)),n.error=n.error.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"success",value:function(t){this.setState({latitude:t.coords.latitude}),this.setState({longitude:t.coords.longitude})}},{key:"error",value:function(){alert("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0430\u0448\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0432\u0440\u0443\u0447\u043d\u0443\u044e.");for(var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0448\u0438\u0440\u043e\u0442\u0443"),e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u043e\u043b\u0433\u043e\u0442\u0443");t>90||t<-90||!isFinite(t);)t=prompt("\u0428\u0438\u0440\u043e\u0442\u0430 \u0432 \u0433\u0440\u0430\u0434\u0443\u0441\u0430\u0445 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 -90 \u0434\u043e 90. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:");for(this.setState({latitude:t});t>90||t<-90||!isFinite(e);)e=prompt("\u0414\u043e\u043b\u0433\u043e\u0442\u0430 \u0432 \u0433\u0440\u0430\u0434\u0443\u0441\u0430\u0445 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 -90 \u0434\u043e 90. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:");this.setState({longitude:e})}},{key:"getStatus",value:function(){navigator.geolocation.getCurrentPosition(this.success,this.error)}},{key:"componentDidMount",value:function(){this.getStatus()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(p,{latitude:this.state.latitude,longitude:this.state.longitude}))}}]),a}(i.a.Component);var m=function(){return i.a.createElement("div",null,i.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,a){t.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.232ad4bb.chunk.js.map