(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),o=(a(13),a(14),a(2)),l=a(3),c=a(1),u=a(5),d=a(4);var h=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(+e.temp).toFixed(1)," \xb0C"),r.a.createElement("h1",null,"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c: ",r.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/"+e.weather_state+".svg",width:"35rem",alt:"\u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c "+e.weather_state})),r.a.createElement("h1",null,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",(+e.wind_speed).toFixed(1)," \u043c/\u0441"),r.a.createElement("h1",null,"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(.750064*e.air_pressure).toFixed(0)," \u043c\u043c.\u0440\u0442.\u0441\u0442"))},w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){var t="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/?lattlong="+n.props.latitude+","+n.props.longitude;if(n.props.latitude===e.latitude&&n.props.longitude===e.longitude||fetch(t).then((function(e){return e.json()})).then((function(e){n.setState({weatherData:e}),n.setState({latitude:n.props.latitude})})),void 0!==JSON.parse(JSON.stringify(n.state.weatherData))[0]&&0===n.state.woeid&&n.setState({woeid:JSON.parse(JSON.stringify(n.state.weatherData))[0].woeid}),0!==n.state.woeid)var a="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/"+n.state.woeid+"/";n.state.latitude!==e.latitude&&0!==n.state.woeid&&fetch(a).then((function(e){return e.json()})).then((function(e){n.setState({woeidWeather:e})}));var r=n.state.woeidWeather;Object.keys(r).length>0&&(console.log(r.consolidated_weather[0]),n.state.temp!==r.consolidated_weather[0].the_temp&&(n.setState({temp:r.consolidated_weather[0].the_temp}),n.setState({weather_state:r.consolidated_weather[0].weather_state_abbr}),n.setState({wind_speed:r.consolidated_weather[0].wind_speed}),n.setState({air_pressure:r.consolidated_weather[0].air_pressure})))},n.state={weatherData:[],latitude:null,longitude:null,woeid:0,woeidWeather:{},temp:"",weather_state:"",wind_speed:"",air_pressure:""},n}return Object(l.a)(a,[{key:"render",value:function(){return JSON.stringify(this.state.weatherData)?r.a.createElement("div",null,r.a.createElement(h,{temp:this.state.temp,weather_state:this.state.weather_state,wind_speed:this.state.wind_speed,air_pressure:this.state.air_pressure})):r.a.createElement("div",null,"Loading")}}]),a}(r.a.Component),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={longitude:null,latitude:null},n.getStatus=n.getStatus.bind(Object(c.a)(n)),n.success=n.success.bind(Object(c.a)(n)),n.error=n.error.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"success",value:function(e){this.setState({latitude:e.coords.latitude}),this.setState({longitude:e.coords.longitude})}},{key:"error",value:function(){alert("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0430\u0448\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0432\u0440\u0443\u0447\u043d\u0443\u044e."),this.setState({latitude:prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0448\u0438\u0440\u043e\u0442\u0443")}),this.setState({longitude:prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u043e\u043b\u0433\u043e\u0442\u0443")})}},{key:"getStatus",value:function(){navigator.geolocation.getCurrentPosition(this.success,this.error)}},{key:"componentDidMount",value:function(){this.getStatus()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,{latitude:this.state.latitude,longitude:this.state.longitude}))}}]),a}(r.a.Component);var m=function(){return r.a.createElement("div",null,r.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7150b612.chunk.js.map