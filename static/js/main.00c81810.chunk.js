(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a.p+"static/media/rain.c3e68f18.gif"},function(t,e,a){t.exports=a.p+"static/media/snow.f4907066.gif"},function(t,e,a){t.exports=a.p+"static/media/sun.c4e6e582.gif"},function(t,e,a){t.exports=a.p+"static/media/thunder.4a9b1c50.gif"},function(t,e,a){t.exports=a.p+"static/media/clouds.f54ac30d.gif"},function(t,e,a){t.exports=a(20)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),i=a(7),r=a.n(i),o=(a(18),a(19),a(2)),c=a(3),l=a(1),d=a(5),u=a(4),h=a(8),p=a.n(h),w=a(9),m=a.n(w),f=a(10),g=a.n(f),_=a(11),v=a.n(_),S=a(12),b=a.n(S);var E=function(t){var e;"c"===t.weather_state||"lc"===t.weather_state?e=g.a:"hc"===t.weather_state?e=b.a:"s"===t.weather_state||"lr"===t.weather_state||"hs"===t.weather_state||"h"===t.weather_state?e=p.a:"t"===t.weather_state?e=v.a:"sn"===t.weather_state&&(e=m.a);var a={backgroundImage:"url(".concat(e,")")};return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"caption",style:a}),n.a.createElement("div",{className:"temp"},"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(+t.temp).toFixed(1)," \xb0C"),n.a.createElement("div",{className:"weather_state"},"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c: ",n.a.createElement("img",{src:"https://www.metaweather.com/static/img/weather/"+t.weather_state+".svg",alt:"\u043e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c "+t.weather_state})),n.a.createElement("div",{className:"wind_speed"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430: ",(+t.wind_speed).toFixed(1)," \u043c/\u0441"),n.a.createElement("div",{className:"pressure"},"\u0410\u0442\u043c\u043e\u0441\u0444\u0435\u0440\u043d\u043e\u0435 \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",(.750064*t.air_pressure).toFixed(0)," \u043c\u043c.\u0440\u0442.\u0441\u0442"),n.a.createElement("div",{className:"nearest_station"},"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0430\u044f \u043c\u0435\u0442\u0435\u043e\u0441\u0442\u0430\u043d\u0446\u0438\u044f: ",t.title," (",(t.distance/1e3).toFixed(1)," \u043a\u043c \u043e\u0442 \u0432\u0430\u0441)"))},O=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).componentDidUpdate=function(t){var e="https://fathomless-spire-81147.herokuapp.com/https://www.metaweather.com/api/location/search/?lattlong="+s.props.latitude+","+s.props.longitude;if(s.props.latitude===t.latitude&&s.props.longitude===t.longitude||fetch(e).then((function(t){return t.json()})).then((function(t){s.setState({weatherData:t}),s.setState({latitude:s.props.latitude}),s.setState({longitude:s.props.longitude})})),void 0!==JSON.parse(JSON.stringify(s.state.weatherData))[0]&&0===s.state.woeid&&s.setState({woeid:JSON.parse(JSON.stringify(s.state.weatherData))[0].woeid}),0!==s.state.woeid)var a="https://fathomless-spire-81147.herokuapp.com/https://www.metaweather.com/api/location/"+s.state.woeid+"/";s.state.latitude!==t.latitude&&0!==s.state.woeid&&fetch(a).then((function(t){return 200===t.status||alert("\u0423 metaweather.com \u043e\u043f\u044f\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),t.json()})).then((function(t){s.setState({woeidWeather:t})}));var n=s.state.woeidWeather,i=s.state.weatherData;Object.keys(n).length>0&&s.state.temp!==n.consolidated_weather[0].the_temp&&(s.setState({temp:n.consolidated_weather[0].the_temp}),s.setState({weather_state:n.consolidated_weather[0].weather_state_abbr}),s.setState({wind_speed:n.consolidated_weather[0].wind_speed}),s.setState({air_pressure:n.consolidated_weather[0].air_pressure}),s.setState({title:n.title}),s.setState({distance:i[0].distance}))},s.state={weatherData:[],latitude:null,longitude:null,distance:"",woeid:0,woeidWeather:{},temp:"",weather_state:"",wind_speed:"",air_pressure:"",title:""},s}return Object(c.a)(a,[{key:"render",value:function(){return JSON.stringify(this.state.weatherData)?n.a.createElement("div",null,n.a.createElement(E,{temp:this.state.temp,weather_state:this.state.weather_state,wind_speed:this.state.wind_speed,air_pressure:this.state.air_pressure,title:this.state.title,distance:this.state.distance})):n.a.createElement("div",null,"Loading")}}]),a}(n.a.Component),j=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).state={longitude:null,latitude:null},s.getStatus=s.getStatus.bind(Object(l.a)(s)),s.success=s.success.bind(Object(l.a)(s)),s.error=s.error.bind(Object(l.a)(s)),s}return Object(c.a)(a,[{key:"getStatus",value:function(){navigator.geolocation.getCurrentPosition(this.success,this.error)}},{key:"success",value:function(t){this.setState({latitude:t.coords.latitude}),this.setState({longitude:t.coords.longitude})}},{key:"error",value:function(){alert("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0430\u0448\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0432\u0440\u0443\u0447\u043d\u0443\u044e.");for(var t=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0448\u0438\u0440\u043e\u0442\u0443"),e=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u043e\u043b\u0433\u043e\u0442\u0443");t>90||t<-90||!isFinite(t);)t=prompt("\u0428\u0438\u0440\u043e\u0442\u0430 \u0432 \u0433\u0440\u0430\u0434\u0443\u0441\u0430\u0445 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 -90 \u0434\u043e 90. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:");for(this.setState({latitude:t});t>90||t<-90||!isFinite(e);)e=prompt("\u0414\u043e\u043b\u0433\u043e\u0442\u0430 \u0432 \u0433\u0440\u0430\u0434\u0443\u0441\u0430\u0445 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 -90 \u0434\u043e 90. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437:");this.setState({longitude:e})}},{key:"componentDidMount",value:function(){this.getStatus()}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(O,{latitude:this.state.latitude,longitude:this.state.longitude}))}}]),a}(n.a.Component);var k=function(){return n.a.createElement("div",null,n.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.00c81810.chunk.js.map